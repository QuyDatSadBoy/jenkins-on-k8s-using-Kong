# Ngrok Ingress for Kong Gateway
# Update the host field with your actual ngrok URL
apiVersion: networking.k8s.io/v1
kind: Ingress
metadata:
  name: kong-ngrok
  namespace: kong
spec:
  ingressClassName: kong
  rules:
  - host: https://ede31ba24a0d.ngrok-free.app  # Replace with your ngrok URL
    http:
      paths:
      # FastAPI routes
      - path: /api
        pathType: Prefix
        backend:
          service:
            name: kong-kong-proxy
            port:
              number: 80
      # Jenkins routes  
      - path: /jenkins
        pathType: Prefix
        backend:
          service:
            name: kong-kong-proxy
            port:
              number: 80
      # Root path
      - path: /
        pathType: Prefix
        backend:
          service:
            name: kong-kong-proxy
            port:
              number: 80
